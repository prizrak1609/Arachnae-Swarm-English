<?xml version="1.0" encoding="utf-8" ?>
<Defs>
  <!-- 自定义袭击定义，defname是硬编码指定不能更改 -->
  <ArachnaeSwarm.CustomRaidDef>
    <defName>ARA_SpecialAttack</defName>
    <factionDef>ARA_Hostile_Hive</factionDef>
    <pointWavePools>
      <li>
        <minPoints>0</minPoints>
        <maxPoints>800</maxPoints>
        <wavePool>ARA_WavePool_Stage1</wavePool>
      </li>
    </pointWavePools>
    <baseRaidNembers>3</baseRaidNembers>
    <pointsGrowthPerWave>
      <growthType>Linear</growthType>
      <linearGrowth>1.2</linearGrowth>
    </pointsGrowthPerWave>
  </ArachnaeSwarm.CustomRaidDef>
  <!-- 第一阶段波次池 -->
  <ArachnaeSwarm.RaidWavePoolDef>
    <defName>ARA_WavePool_Stage1</defName>
    <waves>
      <li>ARA_Wave_Scout_Patrol</li>
      <li>ARA_Wave_Assault_Team</li>
      <li>ARA_Wave_Acid_Swarm</li>
      <li>ARA_Wave_Heavy_Defense</li>
      <li>ARA_Wave_Mixed_Forces</li>
    </waves>
    <selectionWeights>
      <li>
        <key>ARA_Wave_Scout_Patrol</key>
        <value>0.25</value>
      </li>
      <li>
        <key>ARA_Wave_Assault_Team</key>
        <value>0.25</value>
      </li>
      <li>
        <key>ARA_Wave_Acid_Swarm</key>
        <value>0.20</value>
      </li>
      <li>
        <key>ARA_Wave_Heavy_Defense</key>
        <value>0.15</value>
      </li>
      <li>
        <key>ARA_Wave_Mixed_Forces</key>
        <value>0.15</value>
      </li>
    </selectionWeights>
  </ArachnaeSwarm.RaidWavePoolDef>

  <!-- 波次1: 侦察巡逻队 -->
  <ArachnaeSwarm.RaidWaveDef>
    <defName>ARA_Wave_Scout_Patrol</defName>
    <label>侦察巡逻队</label>
    <description>一支小型侦察队伍，主要由远程单位组成，进行骚扰射击</description>
    <possibleArrivalModes>
      <li>CenterDrop</li>
    </possibleArrivalModes>
    <pawnComposition>
      <li>
        <pawnKind>ARA_Raid_Shooter</pawnKind>
        <ratio>0.7</ratio>
        <minCount>2</minCount>
        <maxCount>6</maxCount>
        <DefaultUnit>true</DefaultUnit>
      </li>
      <li>
        <pawnKind>ARA_Raid_Assault</pawnKind>
        <ratio>0.3</ratio>
        <minCount>1</minCount>
        <maxCount>3</maxCount>
      </li>
    </pawnComposition>
  </ArachnaeSwarm.RaidWaveDef>
  <!-- 波次2: 突击小队 -->
  <ArachnaeSwarm.RaidWaveDef>
    <defName>ARA_Wave_Assault_Team</defName>
    <label>突击小队</label>
    <description>以近战单位为主的快速突击队伍，擅长冲锋陷阵</description>
    <possibleArrivalModes>
      <li>CenterDrop</li>
    </possibleArrivalModes>
    <pawnComposition>
      <li>
        <pawnKind>ARA_Raid_Assault</pawnKind>
        <ratio>0.6</ratio>
        <minCount>3</minCount>
        <maxCount>8</maxCount>
        <DefaultUnit>true</DefaultUnit>
      </li>
      <li>
        <pawnKind>ARA_Raid_Shooter</pawnKind>
        <ratio>0.4</ratio>
        <minCount>2</minCount>
        <maxCount>4</maxCount>
      </li>
    </pawnComposition>
  </ArachnaeSwarm.RaidWaveDef>
  <!-- 波次3: 酸液虫群 -->
  <ArachnaeSwarm.RaidWaveDef>
    <defName>ARA_Wave_Acid_Swarm</defName>
    <label>酸液虫群</label>
    <description>大量酸噬种辅虫组成的虫海战术，数量庞大但个体脆弱</description>
    <possibleArrivalModes>
      <li>CenterDrop</li>
    </possibleArrivalModes>
    <pawnComposition>
      <li>
        <pawnKind>ARA_Raid_AcidSwarm</pawnKind>
        <ratio>0.8</ratio>
        <minCount>8</minCount>
        <maxCount>20</maxCount>
        <DefaultUnit>true</DefaultUnit>
      </li>
      <li>
        <pawnKind>ARA_Raid_Assault</pawnKind>
        <ratio>0.2</ratio>
        <minCount>2</minCount>
        <maxCount>5</maxCount>
      </li>
    </pawnComposition>
  </ArachnaeSwarm.RaidWaveDef>
  <!-- 波次4: 重装防御 -->
  <ArachnaeSwarm.RaidWaveDef>
    <defName>ARA_Wave_Heavy_Defense</defName>
    <label>重装防御队</label>
    <description>以盾头种为主的防御型队伍，移动缓慢但防御力强</description>
    <possibleArrivalModes>
      <li>CenterDrop</li>
    </possibleArrivalModes>
    <pawnComposition>
      <li>
        <pawnKind>ARA_Raid_Heavy</pawnKind>
        <ratio>0.5</ratio>
        <minCount>2</minCount>
        <maxCount>6</maxCount>
        <DefaultUnit>true</DefaultUnit>
      </li>
      <li>
        <pawnKind>ARA_Raid_Shooter</pawnKind>
        <ratio>0.3</ratio>
        <minCount>2</minCount>
        <maxCount>4</maxCount>
      </li>
      <li>
        <pawnKind>ARA_Raid_Acidling</pawnKind>
        <ratio>0.2</ratio>
        <minCount>3</minCount>
        <maxCount>8</maxCount>
      </li>
    </pawnComposition>
  </ArachnaeSwarm.RaidWaveDef>
  <!-- 波次5: 混合部队 -->
  <ArachnaeSwarm.RaidWaveDef>
    <defName>ARA_Wave_Mixed_Forces</defName>
    <label>混合部队</label>
    <description>均衡配置的混合部队，包含各种单位类型</description>
    <possibleArrivalModes>
      <li>CenterDrop</li>
    </possibleArrivalModes>
    <pawnComposition>
      <li>
        <pawnKind>ARA_Raid_Assault</pawnKind>
        <ratio>0.3</ratio>
        <minCount>2</minCount>
        <maxCount>5</maxCount>
      </li>
      <li>
        <pawnKind>ARA_Raid_Shooter</pawnKind>
        <ratio>0.3</ratio>
        <minCount>2</minCount>
        <maxCount>5</maxCount>
      </li>
      <li>
        <pawnKind>ARA_Raid_Heavy</pawnKind>
        <ratio>0.2</ratio>
        <minCount>1</minCount>
        <maxCount>3</maxCount>
      </li>
      <li>
        <pawnKind>ARA_Raid_AcidSwarm</pawnKind>
        <ratio>0.2</ratio>
        <minCount>3</minCount>
        <maxCount>6</maxCount>
        <DefaultUnit>true</DefaultUnit>
      </li>
    </pawnComposition>
  </ArachnaeSwarm.RaidWaveDef>

  <!-- 事件定义 -->
  <IncidentDef>
    <defName>ARA_Raid_Incident</defName>
    <label>阿拉克涅虫群袭击</label>
    <workerClass>ArachnaeSwarm.IncidentWorker_CustomRaid</workerClass>
    <category>Special</category>
    <minRefireDays>5</minRefireDays>
    <baseChance>0</baseChance>
    <targetTags>
      <li>Map_PlayerHome</li>
    </targetTags>
  </IncidentDef>
</Defs>
